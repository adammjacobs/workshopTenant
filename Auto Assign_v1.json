{"blocks":[{"id":"26609010-BC0A-4220-BCD7-349C64992F0A","type":"StartBlock","disabled":false,"name":"UserCreated","displayName":"User Created","comment":"","childId":"FDC843C8-2058-4E4D-B616-5381268D0119","inputs":[{"id":"run_mode","value":"webhook","type":"select","structure":{}},{"id":"datasourcetype_guid","value":"61a87510-c7a3-11ea-95da-0fb0c241e75c","type":"select","displayValue":"Qlik Cloud Services","structure":[]},{"id":"webhook_event_guid","value":"5be4c220-6156-11eb-a3df-fdbac6cc38a0","type":"select","displayValue":"User Created","structure":[]},{"id":"test_payload","value":"{\n  \"data\": {\n    \"id\": \"example_4Py5kq5i3OhUWAfBauEyPd423eSNJF8X\",\n    \"tenantId\": \"example_WL69WlNT4PRbwAA8EZ1sDblqjthluHL1\"\n  },\n  \"source\": \"com.qlik/users\",\n  \"eventId\": \"example_CGMoX8zP3RaPcGLKxQ_Sy5N4O0bh9XxE\",\n  \"eventTime\": \"2021-09-09T09:32:53.782Z\",\n  \"eventType\": \"com.qlik.v1.user.created\",\n  \"extensions\": {\n    \"userId\": \"example_BlVarUAUM9I0ei3MmKMejlDaF1sKPnN5\",\n    \"tenantId\": \"example_WL69WlNT4PRbwAA8EZ1sDblqjthluHL1\"\n  },\n  \"contentType\": \"application/json\",\n  \"eventTypeVersion\": \"1.0.0\",\n  \"cloudEventsVersion\": \"0.1\"\n}","type":"json","structure":[]},{"id":"webhook_documentation","value":null,"type":"string","structure":{}}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":100,"y":100,"logo":"https://cdn.qlikcloud.com/automations/logos/21dd4ad9985d490e7bfd7a644d783489.png"},{"id":"752A111B-7E21-4FCA-B554-1DB441B2B2C3","type":"EndpointBlock","disabled":false,"name":"rawAPIRequest4","displayName":"Qlik Cloud Services - Raw API Request 4","comment":"Assigns tenant roles of \"PrivateAnalyticsContentCreator\" and \"DataServicesContributor\"","childId":null,"inputs":[{"id":"4add8960-2078-11ec-be2c-7fc55d771fe6","value":"users/{$.UserCreated.data.id}","type":"string","structure":[]},{"id":"3b992a40-2072-11ec-9f0e-ed01586a7e1b","value":"PATCH","type":"select","structure":[]},{"id":"3b8b9090-2072-11ec-8c77-5195fbb0ca65","value":"[\n{\n    \"op\": \"replace\",\n    \"path\": \"/assignedRoles\",\n    \"value\": [\n      {\n        \"name\": \"PrivateAnalyticsContentCreator\"\n      },\n      {\n        \"name\": \"DataServicesContributor\"\n      }\n    ]\n  }\n]","type":"object","mode":"raw","structure":[]},{"id":"993585d0-2839-11ec-b431-df4deed6c1ae","value":null,"type":"object","mode":"keyValue","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":682,"y":870,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"3b75dd80-2072-11ec-9043-3b2aff6123af","endpoint_role":"get"},{"id":"0BA681F9-8B13-4806-BDE3-BBBB479F5DC2","type":"EndpointBlock","disabled":false,"name":"listSpaces","displayName":"Qlik Cloud Services - List Spaces","comment":"","childId":"752A111B-7E21-4FCA-B554-1DB441B2B2C3","inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-15,"y":589,"loopBlockId":"8C5905AC-587F-4885-BE9A-DA730618E1A2","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"42815920-5f18-11eb-8321-91b1587b6c06","endpoint_role":"list"},{"id":"8C5905AC-587F-4885-BE9A-DA730618E1A2","type":"CaseBlock","disabled":false,"name":"case","displayName":"Case","comment":"","childId":null,"inputs":[{"id":"expression","value":"{ $.listSpaces.item.description }","type":"string","structure":[]},{"id":"statements","value":["Main","Data","Published"],"type":"list","mode":"keyValue","structure":[]}],"settings":[],"collapsed":[{"name":"default","isCollapsed":false}],"x":524,"y":274,"statementChildrenIds":["06AA90E2-CEBB-4EA5-8778-24375CF58B5C","E7845EC2-DE4C-4A0A-8CC5-D4B741343AA3","B45A95A1-88C8-4D1C-994D-7639F0001453"],"defaultChildId":null},{"id":"06AA90E2-CEBB-4EA5-8778-24375CF58B5C","type":"EndpointBlock","disabled":false,"name":"addMemberToSpace","displayName":"Qlik Platform Operations - Add Member To Space","comment":"","childId":null,"inputs":[{"id":"2bbdd560-23a2-11ed-998f-858ca361c79f","value":"{ $.GetTenantNameAndRegion }","type":"string","structure":{}},{"id":"2ba4a130-23a2-11ed-9472-e7f47c82203b","value":"{ $.listSpaces.item.id }","type":"string","structure":{}},{"id":"2bb4fbb0-23a2-11ed-b297-0165721c1b96","value":"{ $.UserCreated.data.id }","type":"string","structure":{}},{"id":"8c8f4fd0-23a2-11ed-ada7-b5bcc6e7e0b4","value":"[\"consumer\",\"contributor\"]","type":"string","structure":{}},{"id":"2bacb5f0-23a2-11ed-846d-bb4022e4aa33","value":"2bb39f30-23a2-11ed-829a-270d08328f05","type":"select","displayValue":"user","structure":{}}],"settings":[{"id":"datasource","value":null,"type":"select","structure":{}},{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":340,"y":640,"datasourcetype_guid":"c7e48240-e0f2-11ec-ada1-d5ef75014b77","endpoint_guid":"2b916d90-23a2-11ed-91e7-1156a32207d1","endpoint_role":"create"},{"id":"FDC843C8-2058-4E4D-B616-5381268D0119","type":"EndpointBlock","disabled":false,"name":"getCurrentTenantInfo","displayName":"Qlik Cloud Services - Get Current Tenant Info","comment":"","childId":"1E993876-65AA-4B54-AA4D-BA0CAD810259","inputs":[],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"cache","value":"0","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-185,"y":304,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"55051480-cb86-11ec-b746-892c1d04114e","endpoint_role":"get"},{"id":"1E993876-65AA-4B54-AA4D-BA0CAD810259","type":"SnippetBlock","disabled":false,"name":"GetTenantNameAndRegion","displayName":"Qlik Platform Operations - Get Tenant Name And Region","comment":"","childId":"0BA681F9-8B13-4806-BDE3-BBBB479F5DC2","inputs":[{"id":"575d1740-b1e2-11ed-958a-598edfec33b8","value":"{ host: { $.getCurrentTenantInfo.links.self.href } }","type":"string","structure":{}}],"settings":[{"id":"datasource","value":null,"type":"select","structure":{}},{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-152,"y":357,"datasourcetype_guid":"c7e48240-e0f2-11ec-ada1-d5ef75014b77","snippet_guid":"bd5c1ce0-ad14-11ed-83f6-1d42e53790dd"},{"id":"E7845EC2-DE4C-4A0A-8CC5-D4B741343AA3","type":"EndpointBlock","disabled":false,"name":"addMemberToSpace2","displayName":"Qlik Platform Operations - Add Member To Space 2","comment":"","childId":null,"inputs":[{"id":"2bbdd560-23a2-11ed-998f-858ca361c79f","value":"{ $.GetTenantNameAndRegion }","type":"string","structure":{}},{"id":"2ba4a130-23a2-11ed-9472-e7f47c82203b","value":"{ $.listSpaces.item.id }","type":"string","structure":{}},{"id":"2bb4fbb0-23a2-11ed-b297-0165721c1b96","value":"{ $.UserCreated.data.id }","type":"string","structure":{}},{"id":"8c8f4fd0-23a2-11ed-ada7-b5bcc6e7e0b4","value":"[\"dataconsumer\"]","type":"string","structure":{}},{"id":"2bacb5f0-23a2-11ed-846d-bb4022e4aa33","value":"2bb39f30-23a2-11ed-829a-270d08328f05","type":"select","displayValue":"user","structure":{}}],"settings":[{"id":"datasource","value":null,"type":"select","structure":{}},{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":340,"y":800,"datasourcetype_guid":"c7e48240-e0f2-11ec-ada1-d5ef75014b77","endpoint_guid":"2b916d90-23a2-11ed-91e7-1156a32207d1","endpoint_role":"create"},{"id":"B45A95A1-88C8-4D1C-994D-7639F0001453","type":"EndpointBlock","disabled":false,"name":"addMemberToSpace3","displayName":"Qlik Platform Operations - Add Member To Space 3","comment":"","childId":null,"inputs":[{"id":"2bbdd560-23a2-11ed-998f-858ca361c79f","value":"{ $.GetTenantNameAndRegion }","type":"string","structure":{}},{"id":"2ba4a130-23a2-11ed-9472-e7f47c82203b","value":"{ $.listSpaces.item.id }","type":"string","structure":{}},{"id":"2bb4fbb0-23a2-11ed-b297-0165721c1b96","value":"{ $.UserCreated.data.id }","type":"string","structure":{}},{"id":"8c8f4fd0-23a2-11ed-ada7-b5bcc6e7e0b4","value":"[\"consumer\",\"contributor\",\"publisher\"]","type":"string","structure":{}},{"id":"2bacb5f0-23a2-11ed-846d-bb4022e4aa33","value":"2bb39f30-23a2-11ed-829a-270d08328f05","type":"select","displayValue":"user","structure":{}}],"settings":[{"id":"datasource","value":null,"type":"select","structure":{}},{"id":"blendr_on_error","value":"stop","type":"select","structure":{}},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":590,"y":800,"datasourcetype_guid":"c7e48240-e0f2-11ec-ada1-d5ef75014b77","endpoint_guid":"2b916d90-23a2-11ed-91e7-1156a32207d1","endpoint_role":"create"}],"variables":[]}
