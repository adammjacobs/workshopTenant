{"blocks":[{"id":"A7CA64C2-53AB-43EF-9747-2154F69955A8","type":"StartBlock","disabled":false,"name":"Start","displayName":"Start","comment":"","childId":"B13A4703-2DFD-427F-B0B0-8A675A88EEE0","inputs":[{"id":"run_mode","value":"manual","type":"select","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":0},{"id":"B13A4703-2DFD-427F-B0B0-8A675A88EEE0","type":"EndpointBlock","disabled":false,"name":"getCurrentTenantInfo","displayName":"Qlik Cloud Services - Get Current Tenant Info","comment":"","childId":"E00B4D31-0A9F-4EA3-B86B-CC6368EC3FAD","inputs":[],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":450,"y":476,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"55051480-cb86-11ec-b746-892c1d04114e","endpoint_role":"get"},{"id":"E00B4D31-0A9F-4EA3-B86B-CC6368EC3FAD","type":"SnippetBlock","disabled":false,"name":"GetTenantNameAndRegion","displayName":"Qlik Platform Operations - Get Tenant Name And Region","comment":"","childId":"35D66B95-1978-43B2-85C8-509BCFDF2ACE","inputs":[{"id":"575d1740-b1e2-11ed-958a-598edfec33b8","value":"{ host: { $.getCurrentTenantInfo.links.self.href } }","type":"string","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-241,"y":153,"datasourcetype_guid":"c7e48240-e0f2-11ec-ada1-d5ef75014b77","snippet_guid":"bd5c1ce0-ad14-11ed-83f6-1d42e53790dd"},{"id":"FE013F41-04D2-4EF8-90BF-139AC2FE2490","type":"CallUrlBlock","disabled":false,"name":"callURL","displayName":"Call URL","comment":"","childId":"2D386C53-441D-47A1-8349-ABABEB6FF5B9","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/adammjacobs/workshopTenant/autoinstalled/spaces.json","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":163,"y":3957},{"id":"9F4D2D59-EB0A-47FC-9E01-B8F9A2AA6506","type":"ForEachBlock","disabled":false,"name":"loop","displayName":"Loop","comment":"","childId":"6A1AC6EF-7D69-4AD6-9761-00A5024C0339","inputs":[{"id":"input","value":"{ $.createSpaces }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":2600,"loopBlockId":"36F0B3D8-04BF-482C-A0F0-90B6DDE6CCAB"},{"id":"36F0B3D8-04BF-482C-A0F0-90B6DDE6CCAB","type":"UpdateJobBlock","disabled":false,"name":"updateRunTitle","displayName":"Update Run Title","comment":"","childId":"CBA10684-3368-4957-BB57-91EE5F595482","inputs":[{"id":"title","value":"Creating { $.loop.item.type } space \"{ $.loop.item.name }\" for { $.loop.item.description } use","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-297,"y":531},{"id":"CBA10684-3368-4957-BB57-91EE5F595482","type":"EndpointBlock","disabled":false,"name":"createSpace","displayName":"Qlik Cloud Services - Create Space","comment":"","childId":"5B282C96-2DA4-42CF-919E-54093C065B8C","inputs":[{"id":"f0de69a0-6d24-11eb-8c07-ebadb5af2511","value":"{ $.loop.item.name }","type":"string","structure":[]},{"id":"79771850-6d25-11eb-8021-177e65e81ac9","value":"{ $.loop.item.type }","type":"select","structure":[]},{"id":"f0ecac30-6d24-11eb-a7b6-d15be2d36858","value":"{ $.loop.item.description }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"warning","type":"select","displayValue":"Warning - Continue Automation and report errors","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":396,"y":1459,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"f0c14620-6d24-11eb-aa67-c519e2671d3d","endpoint_role":"create"},{"id":"2D386C53-441D-47A1-8349-ABABEB6FF5B9","type":"EndpointBlock","disabled":false,"name":"listSpaces","displayName":"Qlik Cloud Services - List Spaces","comment":"","childId":"BD6514E8-E803-49ED-BE40-1F634D56CED3","inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":308,"y":398,"loopBlockId":"873686F7-B81D-4243-84A2-14F3AD8310D3","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"42815920-5f18-11eb-8321-91b1587b6c06","endpoint_role":"list"},{"id":"873686F7-B81D-4243-84A2-14F3AD8310D3","type":"ForEachBlock","disabled":false,"name":"loop2","displayName":"Loop 2","comment":"","childId":null,"inputs":[{"id":"input","value":"{ $.callURL }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-287,"y":392,"loopBlockId":"DCCDB09C-2D3F-4AFA-A4C7-632F8320E1CA"},{"id":"DCCDB09C-2D3F-4AFA-A4C7-632F8320E1CA","type":"IfElseBlock","disabled":false,"name":"condition","displayName":"Condition","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.listSpaces.item.name }","input2":"{ $.loop2.item.name }","operator":"="},{"input1":"{ $.listSpaces.item.type }","input2":"{ $.loop2.item.type }","operator":"="},{"input1":"{ $.listSpaces.item.description }","input2":"{ $.loop2.item.description }","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-297,"y":629,"childTrueId":"8D369561-DBC6-4EBF-9C14-6982B71A0DDE","childFalseId":null},{"id":"8D369561-DBC6-4EBF-9C14-6982B71A0DDE","type":"VariableBlock","disabled":false,"name":"existingSpaces","displayName":"Variable - existingSpaces","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":638,"y":738,"variableGuid":"C6BEF65B-42F7-4EC8-8841-2FC34C794B6B","operations":[{"id":"append","key":"E25CCDF4-DFC1-4E18-9AB4-D8A2C9D4F1C0","name":"Append to { variable }","value":"{ $.loop2.item.id },"}]},{"id":"5B282C96-2DA4-42CF-919E-54093C065B8C","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":499,"y":9027,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"append","key":"52D8B86C-07D2-4072-B99B-68FB69045AFB","name":"Append to { variable }","value":"{capitalizename: { $.loop.item.type }} space \"{$.loop.item.name}\" created for {$.loop.item.description} use { linebreak }"}]},{"id":"6A1AC6EF-7D69-4AD6-9761-00A5024C0339","type":"ShowBlock","disabled":false,"name":"output","displayName":"Output","comment":"","childId":"0CF2B75F-0EF5-4445-9334-E64884C0050F","inputs":[{"id":"input","value":"{ $.message }","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-296,"y":1618},{"id":"32E169DD-EC18-487E-AB56-0D22CB9094DA","type":"EndpointBlock","disabled":false,"name":"listUsers","displayName":"Qlik Cloud Services - List Users","comment":"","childId":"AE6DF700-2560-4E77-A6E7-58A981EB38F7","inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":1240,"loopBlockId":"4992501F-0BD9-42F0-A935-D482596AFFF0","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"53ca52b0-6f83-11eb-b06c-c5bdc3525ce4","endpoint_role":"list"},{"id":"4992501F-0BD9-42F0-A935-D482596AFFF0","type":"IfElseBlock","disabled":false,"name":"condition2","displayName":"Condition 2","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.listUsers.item.roles[*] }","input2":"Admin","operator":"contain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-286,"y":1326,"childTrueId":"177E0500-8EC8-4D5B-84D1-2097F2F0ECDF","childFalseId":null},{"id":"177E0500-8EC8-4D5B-84D1-2097F2F0ECDF","type":"VariableBlock","disabled":false,"name":"adminUsers","displayName":"Variable - adminUsers","comment":"","childId":"F04EDB3D-9A55-4D2F-AC06-4D760181EC46","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":1540,"variableGuid":"3E0B97B1-E1A9-4D39-B857-F3637560B946","operations":[{"id":"add_item","key":"8BA4D996-135A-4ECD-ADE5-E66F93987D42","name":"Add item to { variable }","value":"{ $.listUsers.item.id }"}]},{"id":"F04EDB3D-9A55-4D2F-AC06-4D760181EC46","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-278,"y":1646,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"append","key":"5E3EE379-053F-4642-AC95-8B33404917C0","name":"Append to { variable }","value":"Admin user \"{ $.listUsers.item.name }\" identified { linebreak }"}]},{"id":"AE6DF700-2560-4E77-A6E7-58A981EB38F7","type":"ShowBlock","disabled":false,"name":"output2","displayName":"Output 2","comment":"","childId":"D19418BC-5A9C-4BC7-9106-7131496DE02F","inputs":[{"id":"input","value":"{ $.message }","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-306,"y":1325},{"id":"D19418BC-5A9C-4BC7-9106-7131496DE02F","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":"9F4D2D59-EB0A-47FC-9E01-B8F9A2AA6506","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-322,"y":1741,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"empty","key":"74E55A4C-0AF8-4A4D-ACC3-0F688E8BCA6E","name":"Empty { variable }","value":null}]},{"id":"51B783E8-A1BD-4C4D-B593-6E177612996F","type":"ForEachBlock","disabled":false,"name":"loop3","displayName":"Loop 3","comment":"","childId":null,"inputs":[{"id":"input","value":"{ $.adminUsers }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":499,"y":8767,"loopBlockId":"BEA064F7-ED3A-4A28-96E3-4F8D0156164F"},{"id":"B9F1B397-9593-4085-B3CB-ADAFDDB9BA3A","type":"CallUrlBlock","disabled":false,"name":"callURL2","displayName":"Call URL 2","comment":"","childId":"F51973BD-9A31-4015-8982-7F937A449F58","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/adammjacobs/workshopTenant/autoinstalled/master_control.json","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":325,"y":2180},{"id":"BD6514E8-E803-49ED-BE40-1F634D56CED3","type":"ForEachBlock","disabled":false,"name":"loop4","displayName":"Loop 4","comment":"","childId":"32E169DD-EC18-487E-AB56-0D22CB9094DA","inputs":[{"id":"input","value":"{ $.callURL }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-298,"y":887,"loopBlockId":"29D21C5B-94E3-4604-9995-8EA651D450D7"},{"id":"29D21C5B-94E3-4604-9995-8EA651D450D7","type":"IfElseBlock","disabled":false,"name":"condition4","displayName":"Condition 4","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.existingSpaces}","input2":"{ text: {$.loop4.item.id} }","operator":"doesntContain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-300,"y":817,"childTrueId":"9CAD6319-D0AD-47B0-86E5-0CD222E1D8EB","childFalseId":null},{"id":"9CAD6319-D0AD-47B0-86E5-0CD222E1D8EB","type":"VariableBlock","disabled":false,"name":"createSpaces","displayName":"Variable - createSpaces","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-302,"y":1565,"variableGuid":"0137543F-13F5-46BF-81BC-DF63D3C85894","operations":[{"id":"add_item","key":"EA4067FA-06A6-422C-821A-A9DF3B5AED8C","name":"Add item to { variable }","value":"{ $.loop4.item }"}]},{"id":"AF5051EE-27A1-47F8-92EE-32016E726AE0","type":"EndpointBlock","disabled":false,"name":"listAutomations","displayName":"Qlik Cloud Services - List Automations","comment":"","childId":"538A9219-2BAC-4196-A7A7-B0C19770EBDC","inputs":[{"id":"4da7b650-cc5c-11ec-b5fd-57c6cdbb55e5","value":null,"type":"string","structure":[]},{"id":"a3c3eb00-cc65-11ec-b047-91d50a3080e1","value":"ownerId eq \"{ $.getCurrentUserId }\"","type":"string","structure":[]}],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":293,"y":4194,"loopBlockId":"54E7CDA3-494D-4B55-B7E0-8FD1B3A87701","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"4d780290-cc5c-11ec-aefa-6169dde43f42","endpoint_role":"list"},{"id":"35D66B95-1978-43B2-85C8-509BCFDF2ACE","type":"EndpointBlock","disabled":false,"name":"getCurrentUserId","displayName":"Qlik Cloud Services - Get Current User Id","comment":"","childId":"AF5051EE-27A1-47F8-92EE-32016E726AE0","inputs":[],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":424,"y":378,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"6e9dbaa0-c7a4-11ea-9bd3-0da55b4cbed9","endpoint_role":"get"},{"id":"54E7CDA3-494D-4B55-B7E0-8FD1B3A87701","type":"VariableBlock","disabled":false,"name":"latestVersionCheck","displayName":"Variable - latestVersionCheck","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-270,"y":4065,"variableGuid":"85EC2765-DCCC-446B-8556-BF2C6EB0B425","operations":[{"id":"append","key":"B0195130-2845-4335-B707-B8D20A413F4F","name":"Append to { variable }","value":"{ $.listAutomations.item.name },"}]},{"id":"F51973BD-9A31-4015-8982-7F937A449F58","type":"ForEachBlock","disabled":false,"name":"loop5","displayName":"Loop 5","comment":"","childId":"2AFD6057-D38C-4B74-BD88-D69612D37814","inputs":[{"id":"input","value":"{ $.callURL2 }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":315,"y":4378,"loopBlockId":"19D1CDCB-5273-45A3-B74A-C982DE6D2EBE"},{"id":"19D1CDCB-5273-45A3-B74A-C982DE6D2EBE","type":"IfElseBlock","disabled":false,"name":"condition3","displayName":"Condition 3","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.latestVersionCheck }","input2":"{ $.loop5.item.name }_{ $.loop5.item.version}","operator":"doesntContain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-288,"y":4028,"childTrueId":"F7153482-BE64-47F3-A9F6-8370FA516A86","childFalseId":null},{"id":"F7153482-BE64-47F3-A9F6-8370FA516A86","type":"VariableBlock","disabled":false,"name":"installList","displayName":"Variable - installList","comment":"","childId":"C02BC7C7-EE61-4BE6-A65D-15F2E7EC15A5","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-257,"y":4555,"variableGuid":"100ABE58-D67D-4818-9D58-BB1B975FC442","operations":[{"id":"append","key":"7DE49685-666F-4D73-B469-697B47FDAC02","name":"Append to { variable }","value":"{ $.loop5.item.name }_{ $.loop5.item.version },"}]},{"id":"51153E09-AB17-4071-B2BD-95A0220C5D20","type":"FormBlock","disabled":false,"name":"inputs","displayName":"Inputs","comment":"","childId":"AE4854CF-7B33-44BD-AF16-0BFF8A7A66D4","inputs":[],"settings":[{"id":"persist_data","value":"no","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":333,"y":3172,"form":[{"id":"inputs-input-0","label":"Select Automations to Update/Install","helpText":"All automations are identified as not yet existing in your tenant","type":"multi_select","values":"{ rtrim: { $.installList }, ',' }","isRequired":true,"options":{"default_select_all":true},"order":0}],"persistData":"no"},{"id":"AE4854CF-7B33-44BD-AF16-0BFF8A7A66D4","type":"ForEachBlock","disabled":false,"name":"loop6","displayName":"Loop 6","comment":"","childId":"0B8AE5A7-A69A-4325-910E-CA7BB05BAA3B","inputs":[{"id":"input","value":"{ $.callURL2 }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":333,"y":3292,"loopBlockId":"3339AB61-D717-4ABA-A63E-EE65C1E3357D"},{"id":"3339AB61-D717-4ABA-A63E-EE65C1E3357D","type":"IfElseBlock","disabled":false,"name":"condition5","displayName":"Condition 5","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ implode: { $.inputs.'Select Automations to Update/Install'.selected }, ',' }","input2":"{ $.loop6.item.name }","operator":"contain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-298,"y":4339,"childTrueId":"458AA6E1-5E04-4336-9BC9-9E48B341FF88","childFalseId":null},{"id":"592D6A9D-B6FD-4D72-84C3-BE56A0350B11","type":"ForEachBlock","disabled":false,"name":"loop7","displayName":"Loop over Qlik Cloud Services - List Automations - Loop 7","comment":"","childId":"1D74290C-271D-4E58-8625-8ECF14A56E6B","inputs":[{"id":"input","value":"{ $.listAutomations }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":5780,"loopBlockId":"02E2618B-EB7A-4AE4-BBBD-EE802951A2B5"},{"id":"02E2618B-EB7A-4AE4-BBBD-EE802951A2B5","type":"IfElseBlock","disabled":false,"name":"condition6","displayName":"Condition 6","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop7.item.name }","input2":"{ $.loop6.item.name }","operator":"contain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-318,"y":4737,"childTrueId":"C8D61DB6-C881-46B3-BC23-672400895CE6","childFalseId":null},{"id":"C32B57CC-EE4C-4C5A-9DE2-8FE5FE895AC6","type":"EndpointBlock","disabled":false,"name":"updateAutomation","displayName":"Qlik Cloud Services - Update Automation","comment":"","childId":"A5DDC7DA-A9E5-492F-8CA1-775D87AD98A6","inputs":[{"id":"428c8660-d041-11ec-864d-5bed7a9667ee","value":"{ $.loop7.item.id }","type":"string","structure":[]},{"id":"1f1d64b0-d041-11ec-bc03-e5fdbc243961","value":"{ $.loop6.item.name }_{ $.loop6.item.version }","type":"string","structure":[]},{"id":"1f272e60-d041-11ec-9044-dda9cc402447","value":"{ $.loop6.item.description }","type":"string","structure":[]},{"id":"7fcdf4c0-2833-11ed-a6a9-797f49b90041","value":"{ $.callURL3 }","type":"string","structure":[]},{"id":"99e1a8c0-2833-11ed-b085-83fc18a9cd7d","value":"{ $.schedule }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-302,"y":5142,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"1f022b50-d041-11ec-a842-e9973f7c493f","endpoint_role":"update"},{"id":"458AA6E1-5E04-4336-9BC9-9E48B341FF88","type":"CallUrlBlock","disabled":false,"name":"callURL3","displayName":"Call URL 3","comment":"","childId":"592D6A9D-B6FD-4D72-84C3-BE56A0350B11","inputs":[{"id":"url","value":"{ $.loop6.item.workspace }","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-299,"y":4822},{"id":"A5DDC7DA-A9E5-492F-8CA1-775D87AD98A6","type":"VariableBlock","disabled":false,"name":"updatedAutomation","displayName":"Variable - updatedAutomation","comment":"","childId":"AB1D9614-0909-4275-9C4A-694EF7B5F84A","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":480,"y":5400,"variableGuid":"66C3010B-097A-4285-B3F2-7F550AF4BFD9","operations":[{"id":"set_value","key":"1BDB6FC7-143E-475F-8EA1-3B057185DA3A","name":"Set value of { variable }","value":"1"}]},{"id":"1D74290C-271D-4E58-8625-8ECF14A56E6B","type":"IfElseBlock","disabled":false,"name":"condition7","displayName":"Condition 7","comment":"","childId":"8C7BAAFA-AEE9-43D3-BF32-B8124A40946A","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.updatedAutomation }","input2":"1","operator":"!="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-309,"y":5225,"childTrueId":"333AECF8-F487-46BC-AD55-ED979463038D","childFalseId":null},{"id":"439F505E-B9F8-4B10-9715-8A1A5679F0C3","type":"EndpointBlock","disabled":false,"name":"createAutomation","displayName":"Qlik Cloud Services - Create Automation","comment":"","childId":"14BE16A8-B88C-455E-88D3-082FB23FCEE1","inputs":[{"id":"232befc0-d025-11ec-a748-91ccd794dccb","value":"{ $.loop6.item.name }_{ $.loop6.item.version }","type":"string","structure":[]},{"id":"2a202480-d025-11ec-9540-7766f5f4a17f","value":"{ $.loop6.item.description }","type":"string","structure":[]},{"id":"20409e30-2833-11ed-bc5f-f13e86c5c276","value":"{ $.callURL3 }","type":"string","structure":[]},{"id":"2b723a50-2833-11ed-a670-b786f7e00bcc","value":"{ $.schedule }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-299,"y":5783,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"fb79f2d0-d024-11ec-b5a3-394cdb5edde2","endpoint_role":"create"},{"id":"8C7BAAFA-AEE9-43D3-BF32-B8124A40946A","type":"VariableBlock","disabled":false,"name":"updatedAutomation","displayName":"Variable - updatedAutomation","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-301,"y":5761,"variableGuid":"66C3010B-097A-4285-B3F2-7F550AF4BFD9","operations":[{"id":"set_value","key":"4529CCE4-681B-4C32-B76F-C8962D93A655","name":"Set value of { variable }","value":"0"}]},{"id":"538A9219-2BAC-4196-A7A7-B0C19770EBDC","type":"CallUrlBlock","disabled":false,"name":"callURL4","displayName":"Call URL 4","comment":"","childId":"AC4CF22C-78EA-49AB-B0BA-97AD25FB96BD","inputs":[{"id":"url","value":"https://raw.githubusercontent.com/adammjacobs/workshopTenant/main/setupversion.json","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":240},{"id":"AC4CF22C-78EA-49AB-B0BA-97AD25FB96BD","type":"IfElseBlock","disabled":false,"name":"condition8","displayName":"Condition 8","comment":"","childId":"B9F1B397-9593-4085-B3CB-ADAFDDB9BA3A","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.latestVersionCheck }","input2":"{ $.callURL4[0].name }_{ $.callURL4[0].version }","operator":"doesntContain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":290,"y":554,"childTrueId":"6EB97FA7-E948-48D4-A2C7-E4B58BC033BC","childFalseId":null},{"id":"6EB97FA7-E948-48D4-A2C7-E4B58BC033BC","type":"FormBlock","disabled":false,"name":"inputs2","displayName":"Inputs 2","comment":"","childId":"90F33B64-F87F-4094-8414-F39D6248EB3D","inputs":[],"settings":[{"id":"persist_data","value":"no","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":620,"form":[{"id":"inputs2-input-0","type":"select","label":"WARNING! You are not running the latest version of this Automation, Would you like to stop this automation run in order to install the latest version?","order":0,"values":"Yes, No continue with run","options":[],"helpText":null,"isRequired":true}],"persistData":"no"},{"id":"90F33B64-F87F-4094-8414-F39D6248EB3D","type":"IfElseBlock","disabled":false,"name":"condition9","displayName":"Condition 9","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs2.'WARNING! You are not running the latest version of this Automation, Would you like to stop this automation run in order to install the latest version?' }","input2":"Yes","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":120,"y":820,"childTrueId":"73860A84-EF1D-40EB-94EB-2C45003BB302","childFalseId":null},{"id":"19D6B9EE-C468-4D98-BE41-A7AC299A1829","type":"StopBlock","disabled":false,"name":"stop","displayName":"Stop","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":240,"y":1600},{"id":"9A313C01-094F-4A54-90F1-91EF9C9300B9","type":"IfElseBlock","disabled":false,"name":"condition11","displayName":"Condition 11","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop6.item.runType}","input2":"trigger","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-318,"y":6825,"childTrueId":"F947BF68-B1C8-40CB-9100-FA0E08FA9E1E","childFalseId":null},{"id":"9364DB2B-D297-4384-8F34-D362AE139062","type":"EndpointBlock","disabled":false,"name":"listSpaces2","displayName":"Qlik Cloud Services - List Spaces 2","comment":"","childId":null,"inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":316,"y":8633,"loopBlockId":"E5E6E0F9-CB22-4D80-905E-DAC1907E5CA0","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"42815920-5f18-11eb-8321-91b1587b6c06","endpoint_role":"list"},{"id":"E5E6E0F9-CB22-4D80-905E-DAC1907E5CA0","type":"IfElseBlock","disabled":false,"name":"condition12","displayName":"Condition 12","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.listSpaces2.item.description }","input2":"Stage","operator":"contain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-298,"y":6915,"childTrueId":"69B1267D-CAF0-4929-96C2-1334B3539EAF","childFalseId":null},{"id":"B53CF1BD-E76D-4ACC-A9C7-4DAF50CED7D8","type":"EndpointBlock","disabled":false,"name":"rawAPIRequest3","displayName":"Qlik Platform Operations - Raw API Request 3","comment":"","childId":"ABEEF00A-9F4D-419E-879A-EA9CCEABF318","inputs":[{"id":"19e52df0-5c20-11ed-8b89-078a912eaf10","value":"{ $.GetTenantNameAndRegion }","type":"string","structure":[]},{"id":"19eb53b0-5c20-11ed-b358-619dca928cfa","value":"generic-links","type":"string","structure":[]},{"id":"7b5cfaf0-5c20-11ed-bd1d-d1dbb9ea3429","value":"89436a00-5c20-11ed-9952-c95b294cbc03","type":"select","displayValue":"POST","structure":[]},{"id":"aca01a60-5c20-11ed-85a4-35ba2e22c38f","value":"{\n{ $.loop8.item }\n\"spaceId\": \"{$.listSpaces2.item.id}\"\n}","type":"object","mode":"raw","structure":[]},{"id":"bf43d290-5c20-11ed-8501-c390d4a64178","value":null,"type":"object","mode":"keyValue","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":720,"y":4980,"datasourcetype_guid":"c7e48240-e0f2-11ec-ada1-d5ef75014b77","endpoint_guid":"19c95e90-5c20-11ed-947d-53935198322e","endpoint_role":"get"},{"id":"C8D61DB6-C881-46B3-BC23-672400895CE6","type":"UpdateJobBlock","disabled":false,"name":"updateRunTitle2","displayName":"Update Run Title 2","comment":"","childId":"09D2B026-26F2-4830-81A1-4C1B76158CB2","inputs":[{"id":"title","value":"Updating Automation \"{ $.loop7.item.name }\" to \"{ $.loop6.item.name }_{ $.loop6.item.version }\"","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":810,"y":6184},{"id":"333AECF8-F487-46BC-AD55-ED979463038D","type":"UpdateJobBlock","disabled":false,"name":"updateRunTitle3","displayName":"Update Run Title 3","comment":"","childId":"8716FA49-7956-4ECF-8F55-3E0CE19C8502","inputs":[{"id":"title","value":"Creating Automation \"{ $.loop6.item.name }_{ $.loop6.item.version }\"","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-334,"y":6814},{"id":"69B1267D-CAF0-4929-96C2-1334B3539EAF","type":"UpdateJobBlock","disabled":false,"name":"updateRunTitle4","displayName":"Update Run Title 4","comment":"","childId":"B53CF1BD-E76D-4ACC-A9C7-4DAF50CED7D8","inputs":[{"id":"title","value":"Adding Generic Link for Triggered Automation Execution","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-334,"y":7114},{"id":"AB1D9614-0909-4275-9C4A-694EF7B5F84A","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-275,"y":6708,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"append","key":"3B840535-E496-4632-B792-05BFF08A7E7C","name":"Append to { variable }","value":"Updated Automation \"{$.loop7.item.name}\" to \"{$.loop6.item.name}_{$.loop6.item.version}\"{ linebreak }"}]},{"id":"14BE16A8-B88C-455E-88D3-082FB23FCEE1","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":"9A313C01-094F-4A54-90F1-91EF9C9300B9","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-301,"y":7523,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"append","key":"3B8CD6A3-BBAB-40D9-9ADF-077CD30CD1E5","name":"Append to { variable }","value":"Creating Automation \"{$.loop6.item.name}_{$.loop6.item.version}\"{ linebreak }"}]},{"id":"0B8AE5A7-A69A-4325-910E-CA7BB05BAA3B","type":"ShowBlock","disabled":false,"name":"output4","displayName":"Output 4","comment":"","childId":"DAFA5CC0-7BB5-4A82-A09F-958A8C2C302B","inputs":[{"id":"input","value":"{ $.message }","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-312,"y":8123},{"id":"C02BC7C7-EE61-4BE6-A65D-15F2E7EC15A5","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-296,"y":2352,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"append","key":"B08912FB-FD89-4AA4-BD2C-D3C9336BDC60","name":"Append to { variable }","value":"Automation \"{$.loop5.item.name}_{$.loop5.item.version}\" Available to be updated/installed { linebreak }"}]},{"id":"8229B77C-4AF0-4D5F-BCCA-1E1B58305343","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":"87ADD50D-45CD-4344-AB95-201A1BF0DD25","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":622,"y":2744,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"empty","key":"C0B82223-DA24-4E1D-8773-9AADA10BCCA3","name":"Empty { variable }","value":null}]},{"id":"DAFA5CC0-7BB5-4A82-A09F-958A8C2C302B","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":831,"y":5070,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"empty","key":"C0B82223-DA24-4E1D-8773-9AADA10BCCA3","name":"Empty { variable }","value":null}]},{"id":"2AFD6057-D38C-4B74-BD88-D69612D37814","type":"ShowBlock","disabled":false,"name":"output5","displayName":"Output 5","comment":"","childId":"8229B77C-4AF0-4D5F-BCCA-1E1B58305343","inputs":[{"id":"input","value":"{ $.message }","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-310,"y":2412},{"id":"F947BF68-B1C8-40CB-9100-FA0E08FA9E1E","type":"VariableBlock","disabled":false,"name":"linkList","displayName":"Variable - linkList","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-620,"y":4854,"variableGuid":"694DCA49-61F0-46FD-8B1A-CDD2AF88331E","operations":[{"id":"add_item","key":"6A2D0317-F110-488B-BDFF-D4FE796A190C","name":"Add item to { variable }","value":"\"name\": \"{$.loop6.item.name}\",\n\"link\": \"{ substr: { $.getCurrentTenantInfo.links.self.href }, 0, { strpos: { $.getCurrentTenantInfo.links.self.href }, 'tenant' } }automations/{$.createAutomation.id}/actions/execute?X-Execution-Token={$.createAutomation.executionToken}\","}]},{"id":"0CF2B75F-0EF5-4445-9334-E64884C0050F","type":"VariableBlock","disabled":false,"name":"message","displayName":"Variable - message","comment":"","childId":"82C570A9-7159-42B6-B885-8654DFA4B9A7","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-600,"y":8456,"variableGuid":"909AA366-70E8-4AC1-9703-7C75F899E369","operations":[{"id":"empty","key":"4185E52F-50EF-43B0-926D-896A725AC5AB","name":"Empty { variable }","value":null}]},{"id":"EB710420-5702-462E-A2FD-E7DAAB656ABD","type":"ForEachBlock","disabled":false,"name":"loop8","displayName":"Loop 8","comment":"","childId":"B2414FCD-FE5D-47BC-A42F-13E231D72A69","inputs":[{"id":"input","value":"{ $.linkList }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-605,"y":8472,"loopBlockId":"9364DB2B-D297-4384-8F34-D362AE139062"},{"id":"09D2B026-26F2-4830-81A1-4C1B76158CB2","type":"IfElseBlock","disabled":false,"name":"condition13","displayName":"Condition 13","comment":"","childId":"C32B57CC-EE4C-4C5A-9DE2-8FE5FE895AC6","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop6.item.runType}","input2":"schedule","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":480,"y":3520,"childTrueId":"81E383A6-61B8-483D-BFF2-748C38701B49","childFalseId":"4EA23651-D704-4B56-B65A-FEE710D7065B"},{"id":"1E29E846-203D-4420-AAEA-B4057F218DCA","type":"VariableBlock","disabled":false,"name":"schedule","displayName":"Variable - schedule","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":720,"y":4220,"variableGuid":"2B62E289-B1B1-4292-B7ED-DF6770B256D3","operations":[{"id":"set_value","key":"4EF76973-EE84-4157-BA4C-921C47377616","name":"Set value of { variable }","value":"{ $.getAutomation.schedules }"}]},{"id":"4EA23651-D704-4B56-B65A-FEE710D7065B","type":"VariableBlock","disabled":false,"name":"schedule","displayName":"Variable - schedule","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-268,"y":3874,"variableGuid":"2B62E289-B1B1-4292-B7ED-DF6770B256D3","operations":[{"id":"empty","key":"D39050A4-B5C7-4DBA-9E2F-2D54C284BBB8","name":"Empty { variable }","value":null}]},{"id":"484B6814-0807-46AC-B247-967E1A441FFC","type":"VariableBlock","disabled":false,"name":"schedule","displayName":"Variable - schedule","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-294,"y":3868,"variableGuid":"2B62E289-B1B1-4292-B7ED-DF6770B256D3","operations":[{"id":"set_value","key":"4EF76973-EE84-4157-BA4C-921C47377616","name":"Set value of { variable }","value":"{ $.callURL6 }"}]},{"id":"CBFF4D6A-E683-4B7E-A7F6-7145977A123F","type":"CallUrlBlock","disabled":false,"name":"callURL6","displayName":"Call URL 6","comment":"","childId":"484B6814-0807-46AC-B247-967E1A441FFC","inputs":[{"id":"url","value":"{ $.loop6.item.schedule}","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-295,"y":3633},{"id":"2A5D38A8-73A4-41D1-A52E-4DD4349CC8D8","type":"VariableBlock","disabled":false,"name":"schedule","displayName":"Variable - schedule","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-268,"y":3874,"variableGuid":"2B62E289-B1B1-4292-B7ED-DF6770B256D3","operations":[{"id":"empty","key":"D39050A4-B5C7-4DBA-9E2F-2D54C284BBB8","name":"Empty { variable }","value":null}]},{"id":"8716FA49-7956-4ECF-8F55-3E0CE19C8502","type":"IfElseBlock","disabled":false,"name":"condition14","displayName":"Condition 14","comment":"","childId":"439F505E-B9F8-4B10-9715-8A1A5679F0C3","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop6.item.runType}","input2":"schedule","operator":"="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":793,"y":4372,"childTrueId":"CBFF4D6A-E683-4B7E-A7F6-7145977A123F","childFalseId":"2A5D38A8-73A4-41D1-A52E-4DD4349CC8D8"},{"id":"18CE1CBF-55FA-4276-AEEC-B763C17FCD13","type":"VariableBlock","disabled":false,"name":"updatedAutomation","displayName":"Variable - updatedAutomation","comment":"","childId":"EB710420-5702-462E-A2FD-E7DAAB656ABD","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":360,"y":10280,"variableGuid":"66C3010B-097A-4285-B3F2-7F550AF4BFD9","operations":[{"id":"set_value","key":"2A21582B-0022-4220-AE6D-5E6142C52C2F","name":"Set value of { variable }","value":"0"}]},{"id":"ABEEF00A-9F4D-419E-879A-EA9CCEABF318","type":"VariableBlock","disabled":false,"name":"updatedAutomation","displayName":"Variable - updatedAutomation","comment":"","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-278,"y":10562,"variableGuid":"66C3010B-097A-4285-B3F2-7F550AF4BFD9","operations":[{"id":"add","key":"443011F3-14DD-4CB3-AFF1-86EBE6440422","name":"Add to { variable }","value":"1"}]},{"id":"B2414FCD-FE5D-47BC-A42F-13E231D72A69","type":"IfElseBlock","disabled":false,"name":"condition15","displayName":"Condition 15","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.updatedAutomation }","input2":"1","operator":">="}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-298,"y":10214,"childTrueId":"ACFEB4B6-F20A-46A9-813C-704ED94E4BEA","childFalseId":null},{"id":"ACFEB4B6-F20A-46A9-813C-704ED94E4BEA","type":"ShowBlock","disabled":false,"name":"output6","displayName":"Output 6","comment":"","childId":null,"inputs":[{"id":"input","value":"{ $.updatedAutomation } Generic Links created for easy automation trigger","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-278,"y":10412},{"id":"BEA064F7-ED3A-4A28-96E3-4F8D0156164F","type":"SnippetBlock","disabled":false,"name":"AddMemberToSpaceWithAllRoles","displayName":"Qlik Platform Operations - Add Member To Space With All Roles","comment":"","childId":null,"inputs":[{"id":"01f7fb00-e5c7-11ed-92b8-8730312b5bc2","value":"{ $.GetTenantNameAndRegion }","type":"string","structure":[]},{"id":"01f92f60-e5c7-11ed-9a48-ebadb38fcbc0","value":"{ $.listSpaces3.item.id }","type":"string","structure":[]},{"id":"01f9a860-e5c7-11ed-90e5-435c61b16db9","value":"{ $.loop3.item }","type":"string","structure":[]},{"id":"2cb75640-0511-11ee-b9aa-0379e9278f39","value":"user","type":"select","displayValue":"user","structure":[]}],"settings":[{"id":"datasource","value":null,"type":"select","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":709,"y":8730,"datasourcetype_guid":"c7e48240-e0f2-11ec-ada1-d5ef75014b77","snippet_guid":"ebf86390-e5bc-11ed-b4d6-877460d526d5"},{"id":"82C570A9-7159-42B6-B885-8654DFA4B9A7","type":"EndpointBlock","disabled":false,"name":"listSpaces3","displayName":"Qlik Cloud Services - List Spaces 3","comment":"","childId":"18CE1CBF-55FA-4276-AEEC-B763C17FCD13","inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-282,"y":9128,"loopBlockId":"51B783E8-A1BD-4C4D-B593-6E177612996F","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"42815920-5f18-11eb-8321-91b1587b6c06","endpoint_role":"list"},{"id":"48C64AEF-899C-4202-8534-D99710472BC2","type":"EndpointBlock","disabled":false,"name":"updateAutomation2","displayName":"Qlik Cloud Services - Update Automation 2","comment":"","childId":null,"inputs":[{"id":"428c8660-d041-11ec-864d-5bed7a9667ee","value":"{ $.loop9.item.id }","type":"string","structure":[]},{"id":"1f1d64b0-d041-11ec-bc03-e5fdbc243961","value":"{$.callURL4[0].name}_{ $.callURL4[0].version }","type":"string","structure":[]},{"id":"1f272e60-d041-11ec-9044-dda9cc402447","value":"{ $.callURL4[0].description }","type":"string","structure":[]},{"id":"7fcdf4c0-2833-11ed-a6a9-797f49b90041","value":"{ $.callURL7 }","type":"string","structure":[]},{"id":"99e1a8c0-2833-11ed-b085-83fc18a9cd7d","value":null,"type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":493,"y":1548,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"1f022b50-d041-11ec-a842-e9973f7c493f","endpoint_role":"update"},{"id":"73860A84-EF1D-40EB-94EB-2C45003BB302","type":"ForEachBlock","disabled":false,"name":"loop9","displayName":"Loop over Qlik Cloud Services - List Automations - Loop 9","comment":"","childId":"9FD540CA-6A0E-4BD6-8255-BA5F66B171B6","inputs":[{"id":"input","value":"{ $.listAutomations }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-609,"y":1069,"loopBlockId":"25B43CEE-99B0-4BB7-87CA-F95A561E2261"},{"id":"25B43CEE-99B0-4BB7-87CA-F95A561E2261","type":"IfElseBlock","disabled":false,"name":"condition16","displayName":"Condition 16","comment":"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop9.item.name }","input2":"Set Up Tenant","operator":"contain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-300,"y":1123,"childTrueId":"97E882A6-2DD5-45AA-8EB7-F3693161748F","childFalseId":null},{"id":"97E882A6-2DD5-45AA-8EB7-F3693161748F","type":"CallUrlBlock","disabled":false,"name":"callURL7","displayName":"Call URL 7","comment":"","childId":"48C64AEF-899C-4202-8534-D99710472BC2","inputs":[{"id":"url","value":"{ $.callURL4[0].workspace }","type":"string","structure":[]},{"id":"method","value":"GET","type":"select","structure":[]},{"id":"timeout","value":"","type":"string","structure":[]},{"id":"params","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"headers","value":null,"type":"object","mode":"keyValue","structure":[]},{"id":"encoding","value":"","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"full_response","value":null,"type":"checkbox","structure":[]},{"id":"capitalize_headers","value":true,"type":"checkbox","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-305,"y":1144},{"id":"9FD540CA-6A0E-4BD6-8255-BA5F66B171B6","type":"ShowBlock","disabled":false,"name":"output3","displayName":"Output 3","comment":"","childId":"19D6B9EE-C468-4D98-BE41-A7AC299A1829","inputs":[{"id":"input","value":"\"Set Up Tenant\" upgraded to {$.callURL4[0].version}. Please re-run the automation.","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-316,"y":1324},{"id":"87ADD50D-45CD-4344-AB95-201A1BF0DD25","type":"IfElseBlock","disabled":false,"name":"condition10","displayName":"Condition 10","comment":"","childId":"FE013F41-04D2-4EF8-90BF-139AC2FE2490","inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.installList }","input2":null,"operator":"notEmpty"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-273,"y":3027,"childTrueId":"51153E09-AB17-4071-B2BD-95A0220C5D20","childFalseId":null},{"id":"81E383A6-61B8-483D-BFF2-748C38701B49","type":"EndpointBlock","disabled":false,"name":"getAutomation","displayName":"Qlik Cloud Services - Get Automation","comment":"","childId":"1E29E846-203D-4420-AAEA-B4057F218DCA","inputs":[{"id":"637d42f0-cc60-11ec-ada3-9b34db8aacf6","value":"{ $.loop7.item.id }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-565,"y":4156,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"63599d90-cc60-11ec-8627-27701235d734","endpoint_role":"get"}],"variables":[{"guid":"72479128-FF1C-4725-B727-FD04AF76E7E7","name":"spaces","type":"string"},{"guid":"909AA366-70E8-4AC1-9703-7C75F899E369","name":"message","type":"string"},{"guid":"3E0B97B1-E1A9-4D39-B857-F3637560B946","name":"adminUsers","type":"list"},{"guid":"0137543F-13F5-46BF-81BC-DF63D3C85894","name":"createSpaces","type":"list"},{"guid":"C6BEF65B-42F7-4EC8-8841-2FC34C794B6B","name":"existingSpaces","type":"string"},{"guid":"85EC2765-DCCC-446B-8556-BF2C6EB0B425","name":"latestVersionCheck","type":"string"},{"guid":"66C3010B-097A-4285-B3F2-7F550AF4BFD9","name":"updatedAutomation","type":"number"},{"guid":"100ABE58-D67D-4818-9D58-BB1B975FC442","name":"installList","type":"string"},{"guid":"2B62E289-B1B1-4292-B7ED-DF6770B256D3","name":"schedule","type":"string"},{"guid":"CE055A3D-881F-48FB-8A36-8DB0CFD0782D","name":"linkJSON","type":"object"},{"guid":"694DCA49-61F0-46FD-8B1A-CDD2AF88331E","name":"linkList","type":"list"}]}
